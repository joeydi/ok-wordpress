/*!
 * Isotope PACKAGED v2.0.0-beta.7
 * Magical sorting and filtering layouts
 * http://isotope.metafizzy.co
 */
(function(c){var d=Array.prototype.slice;function b(){}function a(f){if(!f){return}function h(i){if(i.prototype.option){return}i.prototype.option=function(j){if(!f.isPlainObject(j)){return}this.options=f.extend(true,this.options,j)}}var e=typeof console==="undefined"?b:function(i){console.error(i)};function g(i,j){f.fn[i]=function(n){if(typeof n==="string"){var m=d.call(arguments,1);for(var o=0,l=this.length;o<l;o++){var q=this[o];var k=f.data(q,i);if(!k){e("cannot call methods on "+i+" prior to initialization; attempted to call '"+n+"'");continue}if(!f.isFunction(k[n])||n.charAt(0)==="_"){e("no such method '"+n+"' for "+i+" instance");continue}var p=k[n].apply(k,m);if(p!==undefined){return p}}return this}else{return this.each(function(){var r=f.data(this,i);if(r){r.option(n);r._init()}else{r=new j(this,n);f.data(this,i,r)}})}}}f.bridget=function(i,j){h(j);g(i,j)};return f.bridget}if(typeof define==="function"&&define.amd){define("jquery-bridget/jquery.bridget",["jquery"],a)}else{a(c.jQuery)}})(window);
/*!
 * eventie v1.0.4
 * event binding helper
 *   eventie.bind( elem, 'click', myFn )
 *   eventie.unbind( elem, 'click', myFn )
 */
(function(e){var b=document.documentElement;var f=function(){};function a(h){var g=e.event;g.target=g.target||g.srcElement||h;return g}if(b.addEventListener){f=function(i,h,g){i.addEventListener(h,g,false)}}else{if(b.attachEvent){f=function(i,h,g){i[h+g]=g.handleEvent?function(){var j=a(i);g.handleEvent.call(g,j)}:function(){var j=a(i);g.call(i,j)};i.attachEvent("on"+h,i[h+g])}}}var d=function(){};if(b.removeEventListener){d=function(i,h,g){i.removeEventListener(h,g,false)}}else{if(b.detachEvent){d=function(j,h,g){j.detachEvent("on"+h,j[h+g]);try{delete j[h+g]}catch(i){j[h+g]=undefined}}}}var c={bind:f,unbind:d};if(typeof define==="function"&&define.amd){define("eventie/eventie",c)}else{e.eventie=c}})(this);
/*!
 * docReady
 * Cross browser DOMContentLoaded event emitter
 */
(function(d){var b=d.document;var a=[];function c(g){if(typeof g!=="function"){return}if(c.isReady){g()}else{a.push(g)}}c.isReady=false;function f(l){var k=l.type==="readystatechange"&&b.readyState!=="complete";if(c.isReady||k){return}c.isReady=true;for(var h=0,g=a.length;h<g;h++){var j=a[h];j()}}function e(g){g.bind(b,"DOMContentLoaded",f);g.bind(b,"readystatechange",f);g.bind(d,"load",f);return c}if(typeof define==="function"&&define.amd){c.isReady=typeof requirejs==="function";define("doc-ready/doc-ready",["eventie/eventie"],e)}else{d.docReady=e(d.eventie)}})(this);
/*!
 * EventEmitter v4.2.7 - git.io/ee
 * Oliver Caldwell
 * MIT license
 * @preserve
 */
(function(){function c(){}var l=c.prototype;var v=this;var x=v.EventEmitter;function h(z,A){var y=z.length;while(y--){if(z[y].listener===A){return y}}return -1}function j(y){return function z(){return this[y].apply(this,arguments)}}l.getListeners=function t(y){var B=this._getEvents();var z;var A;if(y instanceof RegExp){z={};for(A in B){if(B.hasOwnProperty(A)&&y.test(A)){z[A]=B[A]}}}else{z=B[y]||(B[y]=[])}return z};l.flattenListeners=function r(A){var y=[];var z;for(z=0;z<A.length;z+=1){y.push(A[z].listener)}return y};l.getListenersAsObject=function e(y){var A=this.getListeners(y);var z;if(A instanceof Array){z={};z[y]=A}return z||A};l.addListener=function f(y,B){var A=this.getListenersAsObject(y);var C=typeof B==="object";var z;for(z in A){if(A.hasOwnProperty(z)&&h(A[z],B)===-1){A[z].push(C?B:{listener:B,once:false})}}return this};l.on=j("addListener");l.addOnceListener=function a(y,z){return this.addListener(y,{listener:z,once:true})};l.once=j("addOnceListener");l.defineEvent=function p(y){this.getListeners(y);return this};l.defineEvents=function q(y){for(var z=0;z<y.length;z+=1){this.defineEvent(y[z])}return this};l.removeListener=function b(y,C){var B=this.getListenersAsObject(y);var z;var A;for(A in B){if(B.hasOwnProperty(A)){z=h(B[A],C);if(z!==-1){B[A].splice(z,1)}}}return this};l.off=j("removeListener");l.addListeners=function m(y,z){return this.manipulateListeners(false,y,z)};l.removeListeners=function s(y,z){return this.manipulateListeners(true,y,z)};l.manipulateListeners=function g(z,A,C){var B;var D;var E=z?this.removeListener:this.addListener;var y=z?this.removeListeners:this.addListeners;if(typeof A==="object"&&!(A instanceof RegExp)){for(B in A){if(A.hasOwnProperty(B)&&(D=A[B])){if(typeof D==="function"){E.call(this,B,D)}else{y.call(this,B,D)}}}}else{B=C.length;while(B--){E.call(this,A,C[B])}}return this};l.removeEvent=function o(y){var B=typeof y;var A=this._getEvents();var z;if(B==="string"){delete A[y]}else{if(y instanceof RegExp){for(z in A){if(A.hasOwnProperty(z)&&y.test(z)){delete A[z]}}}else{delete this._events}}return this};l.removeAllListeners=j("removeEvent");l.emitEvent=function u(y,A){var D=this.getListenersAsObject(y);var E;var C;var B;var z;for(B in D){if(D.hasOwnProperty(B)){C=D[B].length;while(C--){E=D[B][C];if(E.once===true){this.removeListener(y,E.listener)}z=E.listener.apply(this,A||[]);if(z===this._getOnceReturnValue()){this.removeListener(y,E.listener)}}}}return this};l.trigger=j("emitEvent");l.emit=function k(y){var z=Array.prototype.slice.call(arguments,1);return this.emitEvent(y,z)};l.setOnceReturnValue=function i(y){this._onceReturnValue=y;return this};l._getOnceReturnValue=function n(){if(this.hasOwnProperty("_onceReturnValue")){return this._onceReturnValue}else{return true}};l._getEvents=function d(){return this._events||(this._events={})};c.noConflict=function w(){v.EventEmitter=x;return c};if(typeof define==="function"&&define.amd){define("eventEmitter/EventEmitter",[],function(){return c})}else{if(typeof module==="object"&&module.exports){module.exports=c}else{this.EventEmitter=c}}}.call(this));
/*!
 * getStyleProperty v1.0.3
 * original by kangax
 * http://perfectionkills.com/feature-testing-css-properties/
 */
(function(c){var d="Webkit Moz ms Ms O".split(" ");var b=document.documentElement.style;function a(h){if(!h){return}if(typeof b[h]==="string"){return h}h=h.charAt(0).toUpperCase()+h.slice(1);var f;for(var g=0,e=d.length;g<e;g++){f=d[g]+h;if(typeof b[f]==="string"){return f}}}if(typeof define==="function"&&define.amd){define("get-style-property/get-style-property",[],function(){return a})}else{if(typeof exports==="object"){module.exports=a}else{c.getStyleProperty=a}}})(window);(function(f,c){var e=document.defaultView;var i=e&&e.getComputedStyle;var g=i?function(j){return e.getComputedStyle(j,null)}:function(j){return j.currentStyle};function h(k){var j=parseFloat(k);var l=k.indexOf("%")===-1&&!isNaN(j);return l&&j}var b=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];function a(){var l={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var k=0,j=b.length;k<j;k++){var m=b[k];l[m]=0}return l}function d(m){var k=m("boxSizing");var l;(function(){if(!k){return}var q=document.createElement("div");q.style.width="200px";q.style.padding="1px 2px 3px 4px";q.style.borderStyle="solid";q.style.borderWidth="1px 2px 3px 4px";q.style[k]="border-box";var o=document.body||document.documentElement;o.appendChild(q);var p=g(q);l=h(p.width)===200;o.removeChild(q)})();function n(D){if(typeof D==="string"){D=document.querySelector(D)}if(!D||typeof D!=="object"||!D.nodeType){return}var B=g(D);if(B.display==="none"){return a()}var u={};u.width=D.offsetWidth;u.height=D.offsetHeight;var C=u.isBorderBox=!!(k&&B[k]&&B[k]==="border-box");for(var y=0,z=b.length;y<z;y++){var w=b[y];var x=B[w];x=j(D,x);var o=parseFloat(x);u[w]=!isNaN(o)?o:0}var A=u.paddingLeft+u.paddingRight;var t=u.paddingTop+u.paddingBottom;var F=u.marginLeft+u.marginRight;var r=u.marginTop+u.marginBottom;var E=u.borderLeftWidth+u.borderRightWidth;var q=u.borderTopWidth+u.borderBottomWidth;var p=C&&l;var s=h(B.width);if(s!==false){u.width=s+(p?0:A+E)}var v=h(B.height);if(v!==false){u.height=v+(p?0:t+q)}u.innerWidth=u.width-(A+E);u.innerHeight=u.height-(t+q);u.outerWidth=u.width+F;u.outerHeight=u.height+r;return u}function j(r,s){if(i||s.indexOf("%")===-1){return s}var q=r.style;var t=q.left;var p=r.runtimeStyle;var o=p&&p.left;if(o){p.left=r.currentStyle.left}q.left=s;s=q.pixelLeft;q.left=t;if(o){p.left=o}return s}return n}if(typeof define==="function"&&define.amd){define("get-size/get-size",["get-style-property/get-style-property"],d)}else{if(typeof exports==="object"){module.exports=d(require("get-style-property"))}else{f.getSize=d(f.getStyleProperty)}}})(window);(function(b,i){var g=(function(){if(i.matchesSelector){return"matchesSelector"}var n=["webkit","moz","ms","o"];for(var l=0,k=n.length;l<k;l++){var m=n[l];var o=m+"MatchesSelector";if(i[o]){return o}}})();function e(l,k){return l[g](k)}function h(l){if(l.parentNode){return}var k=document.createDocumentFragment();k.appendChild(l)}function f(o,l){h(o);var m=o.parentNode.querySelectorAll(l);for(var n=0,k=m.length;n<k;n++){if(m[n]===o){return true}}return false}function d(l,k){h(l);return e(l,k)}var j;if(g){var a=document.createElement("div");var c=e(a,"div");j=c?e:d}else{j=f}if(typeof define==="function"&&define.amd){define("matches-selector/matches-selector",[],function(){return j})}else{window.matchesSelector=j}})(this,Element.prototype);(function(d){var c=document.defaultView;var b=c&&c.getComputedStyle?function(h){return c.getComputedStyle(h,null)}:function(h){return h.currentStyle};function g(i,h){for(var j in h){i[j]=h[j]}return i}function a(h){for(var i in h){return false}i=null;return true}function e(h){return h.replace(/([A-Z])/g,function(i){return"-"+i.toLowerCase()})}function f(v,u,k){var t=k("transition");var q=k("transform");var r=t&&q;var o=!!k("perspective");var h={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[t];var m=["transform","transition","transitionDuration","transitionProperty"];var s=(function(){var x={};for(var y=0,w=m.length;y<w;y++){var A=m[y];var z=k(A);if(z&&z!==A){x[A]=z}}return x})();function j(w,x){if(!w){return}this.element=w;this.layout=x;this.position={x:0,y:0};this._create()}g(j.prototype,v.prototype);j.prototype._create=function(){this._transition={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"})};j.prototype.handleEvent=function(w){var x="on"+w.type;if(this[x]){this[x](w)}};j.prototype.getSize=function(){this.size=u(this.element)};j.prototype.css=function(y){var w=this.element.style;for(var z in y){var x=s[z]||z;w[x]=y[z]}};j.prototype.getPosition=function(){var B=b(this.element);var z=this.layout.options;var E=z.isOriginLeft;var D=z.isOriginTop;var w=parseInt(B[E?"left":"right"],10);var C=parseInt(B[D?"top":"bottom"],10);w=isNaN(w)?0:w;C=isNaN(C)?0:C;var A=this.layout.size;w-=E?A.paddingLeft:A.paddingRight;C-=D?A.paddingTop:A.paddingBottom;this.position.x=w;this.position.y=C};j.prototype.layoutPosition=function(){var x=this.layout.size;var w=this.layout.options;var y={};if(w.isOriginLeft){y.left=(this.position.x+x.paddingLeft)+"px";y.right=""}else{y.right=(this.position.x+x.paddingRight)+"px";y.left=""}if(w.isOriginTop){y.top=(this.position.y+x.paddingTop)+"px";y.bottom=""}else{y.bottom=(this.position.y+x.paddingBottom)+"px";y.top=""}this.css(y);this.emitEvent("layout",[this])};var i=o?function(w,z){return"translate3d("+w+"px, "+z+"px, 0)"}:function(w,z){return"translate("+w+"px, "+z+"px)"};j.prototype._transitionTo=function(H,G){this.getPosition();var z=this.position.x;var w=this.position.y;var F=parseInt(H,10);var E=parseInt(G,10);var D=F===this.position.x&&E===this.position.y;this.setPosition(H,G);if(D&&!this.isTransitioning){this.layoutPosition();return}var C=H-z;var B=G-w;var A={};var I=this.layout.options;C=I.isOriginLeft?C:-C;B=I.isOriginTop?B:-B;A.transform=i(C,B);this.transition({to:A,onTransitionEnd:{transform:this.layoutPosition},isCleaning:true})};j.prototype.goTo=function(w,z){this.setPosition(w,z);this.layoutPosition()};j.prototype.moveTo=r?j.prototype._transitionTo:j.prototype.goTo;j.prototype.setPosition=function(w,z){this.position.x=parseInt(w,10);this.position.y=parseInt(z,10)};j.prototype._nonTransition=function(w){this.css(w.to);if(w.isCleaning){this._removeStyles(w.to)}for(var x in w.onTransitionEnd){w.onTransitionEnd[x].call(this)}};j.prototype._transition=function(w){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(w);return}var y=this._transition;for(var z in w.onTransitionEnd){y.onEnd[z]=w.onTransitionEnd[z]}for(z in w.to){y.ingProperties[z]=true;if(w.isCleaning){y.clean[z]=true}}if(w.from){this.css(w.from);var x=this.element.offsetHeight;x=null}this.enableTransition(w.to);this.css(w.to);this.isTransitioning=true};var l=q&&(e(q)+",opacity");j.prototype.enableTransition=function(){if(this.isTransitioning){return}this.css({transitionProperty:l,transitionDuration:this.layout.options.transitionDuration});this.element.addEventListener(h,this,false)};j.prototype.transition=j.prototype[t?"_transition":"_nonTransition"];j.prototype.onwebkitTransitionEnd=function(w){this.ontransitionend(w)};j.prototype.onotransitionend=function(w){this.ontransitionend(w)};var n={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};j.prototype.ontransitionend=function(z){if(z.target!==this.element){return}var y=this._transition;var w=n[z.propertyName]||z.propertyName;delete y.ingProperties[w];if(a(y.ingProperties)){this.disableTransition()}if(w in y.clean){this.element.style[z.propertyName]="";delete y.clean[w]}if(w in y.onEnd){var x=y.onEnd[w];x.call(this);delete y.onEnd[w]}this.emitEvent("transitionEnd",[this])};j.prototype.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(h,this,false);this.isTransitioning=false};j.prototype._removeStyles=function(x){var w={};for(var y in x){w[y]=""}this.css(w)};var p={transitionProperty:"",transitionDuration:""};j.prototype.removeTransitionStyles=function(){this.css(p)};j.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element);this.emitEvent("remove",[this])};j.prototype.remove=function(){if(!t||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}var w=this;this.on("transitionEnd",function(){w.removeElem();return true});this.hide()};j.prototype.reveal=function(){delete this.isHidden;this.css({display:""});var w=this.layout.options;this.transition({from:w.hiddenStyle,to:w.visibleStyle,isCleaning:true})};j.prototype.hide=function(){this.isHidden=true;this.css({display:""});var w=this.layout.options;this.transition({from:w.visibleStyle,to:w.hiddenStyle,isCleaning:true,onTransitionEnd:{opacity:function(){if(this.isHidden){this.css({display:"none"})}}}})};j.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})};return j}if(typeof define==="function"&&define.amd){define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],f)}else{d.Outlayer={};d.Outlayer.Item=f(d.EventEmitter,d.getSize,d.getStyleProperty)}})(window);
/*!
 * Outlayer v1.1.9
 * the brains and guts of a layout library
 */
(function(f){var i=f.document;var c=f.console;var o=f.jQuery;var n=function(){};function h(r,q){for(var s in q){r[s]=q[s]}return r}var p=Object.prototype.toString;function d(q){return p.call(q)==="[object Array]"}function a(t){var s=[];if(d(t)){s=t}else{if(t&&typeof t.length==="number"){for(var r=0,q=t.length;r<q;r++){s.push(t[r])}}else{s.push(t)}}return s}var g=(typeof HTMLElement==="object")?function e(q){return q instanceof HTMLElement}:function b(q){return q&&typeof q==="object"&&q.nodeType===1&&typeof q.nodeName==="string"};var j=Array.prototype.indexOf?function(q,r){return q.indexOf(r)}:function(s,t){for(var r=0,q=s.length;r<q;r++){if(s[r]===t){return r}}return -1};function l(s,r){var q=j(r,s);if(q!==-1){r.splice(q,1)}}function k(q){return q.replace(/(.)([A-Z])/g,function(s,r,t){return r+"-"+t}).toLowerCase()}function m(w,r,y,x,z,s){var u=0;var q={};function t(B,A){if(typeof B==="string"){B=i.querySelector(B)}if(!B||!g(B)){if(c){c.error("Bad "+this.settings.namespace+" element: "+B)}return}this.element=B;this.options=h({},this.options);this.option(A);var C=++u;this.element.outlayerGUID=C;q[C]=this;this._create();if(this.options.isInitLayout){this.layout()}}t.prototype.settings={namespace:"outlayer",item:s};t.prototype.options={containerStyle:{position:"relative"},isInitLayout:true,isOriginLeft:true,isOriginTop:true,isResizeBound:true,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};h(t.prototype,y.prototype);t.prototype.option=function(A){h(this.options,A)};t.prototype._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);h(this.element.style,this.options.containerStyle);if(this.options.isResizeBound){this.bindResize()}};t.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)};t.prototype._itemize=function(C){var F=this._filterFindItemElements(C);var D=this.settings.item;var B=[];for(var E=0,A=F.length;E<A;E++){var H=F[E];var G=new D(H,this);B.push(G)}return B};t.prototype._filterFindItemElements=function(A){A=a(A);var B=this.options.itemSelector;var F=[];for(var E=0,G=A.length;E<G;E++){var C=A[E];if(!g(C)){continue}if(B){if(z(C,B)){F.push(C)}var H=C.querySelectorAll(B);for(var D=0,I=H.length;D<I;D++){F.push(H[D])}}else{F.push(C)}}return F};t.prototype.getItemElements=function(){var B=[];for(var C=0,A=this.items.length;C<A;C++){B.push(this.items[C].element)}return B};t.prototype.layout=function(){this._resetLayout();this._manageStamps();var A=this.options.isLayoutInstant!==undefined?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,A);this._isLayoutInited=true};t.prototype._init=t.prototype.layout;t.prototype._resetLayout=function(){this.getSize()};t.prototype.getSize=function(){this.size=x(this.element)};t.prototype._getMeasurement=function(C,A){var B=this.options[C];var D;if(!B){this[C]=0}else{if(typeof B==="string"){D=this.element.querySelector(B)}else{if(g(B)){D=B}}this[C]=D?x(D)[A]:B}};t.prototype.layoutItems=function(A,B){A=this._getItemsForLayout(A);this._layoutItems(A,B);this._postLayout()};t.prototype._getItemsForLayout=function(B){var E=[];for(var C=0,A=B.length;C<A;C++){var D=B[C];if(!D.isIgnored){E.push(D)}}return E};t.prototype._layoutItems=function(D,H){if(!D||!D.length){this.emitEvent("layoutComplete",[this,D]);return}this._itemsOn(D,"layout",function G(){this.emitEvent("layoutComplete",[this,D])});var C=[];for(var E=0,B=D.length;E<B;E++){var F=D[E];var A=this._getItemLayoutPosition(F);A.item=F;A.isInstant=H;C.push(A)}this._processLayoutQueue(C)};t.prototype._getItemLayoutPosition=function(){return{x:0,y:0}};t.prototype._processLayoutQueue=function(B){for(var C=0,A=B.length;C<A;C++){var D=B[C];this._positionItem(D.item,D.x,D.y,D.isInstant)}};t.prototype._positionItem=function(B,A,D,C){if(C){B.goTo(A,D)}else{B.moveTo(A,D)}};t.prototype._postLayout=function(){var A=this._getContainerSize();if(A){this._setContainerMeasure(A.width,true);this._setContainerMeasure(A.height,false)}};t.prototype._getContainerSize=n;t.prototype._setContainerMeasure=function(A,B){if(A===undefined){return}var C=this.size;if(C.isBorderBox){A+=B?C.paddingLeft+C.paddingRight+C.borderLeftWidth+C.borderRightWidth:C.paddingBottom+C.paddingTop+C.borderTopWidth+C.borderBottomWidth}A=Math.max(A,0);this.element.style[B?"width":"height"]=A+"px"};t.prototype._itemsOn=function(H,D,I){var A=0;var G=H.length;var F=this;function C(){A++;if(A===G){I.call(F)}return true}for(var B=0,E=H.length;B<E;B++){var J=H[B];J.on(D,C)}};t.prototype.ignore=function(B){var A=this.getItem(B);if(A){A.isIgnored=true}};t.prototype.unignore=function(B){var A=this.getItem(B);if(A){delete A.isIgnored}};t.prototype.stamp=function(B){B=this._find(B);if(!B){return}this.stamps=this.stamps.concat(B);for(var C=0,A=B.length;C<A;C++){var D=B[C];this.ignore(D)}};t.prototype.unstamp=function(B){B=this._find(B);if(!B){return}for(var C=0,A=B.length;C<A;C++){var D=B[C];l(D,this.stamps);this.unignore(D)}};t.prototype._find=function(A){if(!A){return}if(typeof A==="string"){A=this.element.querySelectorAll(A)}A=a(A);return A};t.prototype._manageStamps=function(){if(!this.stamps||!this.stamps.length){return}this._getBoundingRect();for(var C=0,A=this.stamps.length;C<A;C++){var B=this.stamps[C];this._manageStamp(B)}};t.prototype._getBoundingRect=function(){var A=this.element.getBoundingClientRect();var B=this.size;this._boundingRect={left:A.left+B.paddingLeft+B.borderLeftWidth,top:A.top+B.paddingTop+B.borderTopWidth,right:A.right-(B.paddingRight+B.borderRightWidth),bottom:A.bottom-(B.paddingBottom+B.borderBottomWidth)}};t.prototype._manageStamp=n;t.prototype._getElementOffset=function(D){var A=D.getBoundingClientRect();var C=this._boundingRect;var B=x(D);var E={left:A.left-C.left-B.marginLeft,top:A.top-C.top-B.marginTop,right:C.right-A.right-B.marginRight,bottom:C.bottom-A.bottom-B.marginBottom};return E};t.prototype.handleEvent=function(A){var B="on"+A.type;if(this[B]){this[B](A)}};t.prototype.bindResize=function(){if(this.isResizeBound){return}w.bind(f,"resize",this);this.isResizeBound=true};t.prototype.unbindResize=function(){w.unbind(f,"resize",this);this.isResizeBound=false};t.prototype.onresize=function(){if(this.resizeTimeout){clearTimeout(this.resizeTimeout)}var B=this;function A(){B.resize();delete B.resizeTimeout}this.resizeTimeout=setTimeout(A,100)};t.prototype.resize=function(){var B=x(this.element);var A=this.size&&B;if(A&&B.innerWidth===this.size.innerWidth){return}this.layout()};t.prototype.addItems=function(B){var A=this._itemize(B);if(A.length){this.items=this.items.concat(A)}return A};t.prototype.appended=function(B){var A=this.addItems(B);if(!A.length){return}this.layoutItems(A,true);this.reveal(A)};t.prototype.prepended=function(B){var A=this._itemize(B);if(!A.length){return}var C=this.items.slice(0);this.items=A.concat(C);this._resetLayout();this._manageStamps();this.layoutItems(A,true);this.reveal(A);this.layoutItems(C)};t.prototype.reveal=function(B){if(!B||!B.length){return}for(var C=0,A=B.length;C<A;C++){var D=B[C];D.reveal()}};t.prototype.hide=function(B){if(!B||!B.length){return}for(var C=0,A=B.length;C<A;C++){var D=B[C];D.hide()}};t.prototype.getItem=function(D){for(var B=0,A=this.items.length;B<A;B++){var C=this.items[B];if(C.element===D){return C}}};t.prototype.getItems=function(C){if(!C||!C.length){return}var B=[];for(var D=0,A=C.length;D<A;D++){var F=C[D];var E=this.getItem(F);if(E){B.push(E)}}return B};t.prototype.remove=function(B){B=a(B);var D=this.getItems(B);if(!D||!D.length){return}this._itemsOn(D,"remove",function(){this.emitEvent("removeComplete",[this,D])});for(var C=0,A=D.length;C<A;C++){var E=D[C];E.remove();l(E,this.items)}};t.prototype.destroy=function(){var C=this.element.style;C.height="";C.position="";C.width="";for(var B=0,A=this.items.length;B<A;B++){var D=this.items[B];D.destroy()}this.unbindResize();delete this.element.outlayerGUID;if(o){o.removeData(this.element,this.settings.namespace)}};t.data=function(A){var B=A&&A.outlayerGUID;return B&&q[B]};function v(B,A){B.prototype[A]=h({},t.prototype[A])}t.create=function(D,B){function C(){t.apply(this,arguments)}h(C.prototype,t.prototype);v(C,"options");v(C,"settings");h(C.prototype.options,B);C.prototype.settings.namespace=D;C.data=t.data;C.Item=function A(){s.apply(this,arguments)};C.Item.prototype=new s();C.prototype.settings.item=C.Item;r(function(){var K=k(D);var E=i.querySelectorAll(".js-"+K);var L="data-"+K+"-options";for(var G=0,H=E.length;G<H;G++){var F=E[G];var I=F.getAttribute(L);var N;try{N=I&&JSON.parse(I)}catch(J){if(c){c.error("Error parsing "+L+" on "+F.nodeName.toLowerCase()+(F.id?"#"+F.id:"")+": "+J)}continue}var M=new C(F,N);if(o){o.data(F,D,M)}}});if(o&&o.bridget){o.bridget(D,C)}return C};t.Item=s;return t}if(typeof define==="function"&&define.amd){define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],m)}else{f.Outlayer=m(f.eventie,f.docReady,f.EventEmitter,f.getSize,f.matchesSelector,f.Outlayer.Item)}})(window);(function(b){function a(d){function c(){d.Item.apply(this,arguments)}c.prototype=new d.Item();c.prototype._create=function(){this.id=this.layout.itemGUID++;d.Item.prototype._create.call(this);this.sortData={}};c.prototype.updateSortData=function(){this.sortData.id=this.id;this.sortData["original-order"]=this.id;this.sortData.random=Math.random();var f=this.layout.options.getSortData;var g=this.layout._sorters;for(var e in f){var h=g[e];this.sortData[e]=h(this.element,this)}};return c}if(typeof define==="function"&&define.amd){define("isotope/js/item",["outlayer/outlayer"],a)}else{b.Isotope=b.Isotope||{};b.Isotope.Item=a(b.Outlayer)}})(window);(function(b){function a(e,d){function c(f){this.isotope=f;if(f){this.options=f.options[this.namespace];this.element=f.element;this.items=f.filteredItems;this.size=f.size}}(function(){var h=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","resize"];for(var j=0,f=h.length;j<f;j++){var g=h[j];c.prototype[g]=k(g)}function k(i){return function(){return d.prototype[i].apply(this.isotope,arguments)}}})();c.prototype.resizeVertical=function(){var g=e(this.isotope.element);var f=this.isotope.size&&g;if(f&&g.innerHeight===this.isotope.size.innerHeight){return}this.isotope.layout()};c.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)};c.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")};c.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")};c.prototype.getSegmentSize=function(j,h){var i=j+h;var f="outer"+h;this._getMeasurement(i,f);if(this[i]){return}var g=this.getFirstItemSize();this[i]=g&&g[f]||this.isotope.size["inner"+h]};c.prototype.getFirstItemSize=function(){var f=this.isotope.filteredItems[0];return f&&f.element&&e(f.element)};c.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)};c.prototype.getSize=function(){this.isotope.getSize();this.size=this.isotope.size};c.modes={};c.create=function(g,f){function h(){c.apply(this,arguments)}h.prototype=new c();if(f){h.options=f}h.prototype.namespace=g;c.modes[g]=h;return h};return c}if(typeof define==="function"&&define.amd){define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],a)}else{b.Isotope=b.Isotope||{};b.Isotope.LayoutMode=a(b.getSize,b.Outlayer)}})(window);
/*!
 * Isotope v2.0.0-beta.7
 * Magical sorting and filtering layouts
 * http://isotope.metafizzy.co
 */
(function(e){var k=e.jQuery;function g(n,m){for(var o in m){n[o]=m[o]}return n}var c=String.prototype.trim?function(m){return m.trim()}:function(m){return m.replace(/^\s+|\s+$/g,"")};var b=document.documentElement;var j=b.textContent?function(m){return m.textContent}:function(m){return m.innerText};var l=Object.prototype.toString;function d(m){return l.call(m)==="[object Array]"}var h=Array.prototype.indexOf?function(m,n){return m.indexOf(n)}:function(o,p){for(var n=0,m=o.length;n<m;n++){if(o[n]===p){return n}}return -1};function a(p){var o=[];if(d(p)){o=p}else{if(p&&typeof p.length==="number"){for(var n=0,m=p.length;n<m;n++){o.push(p[n])}}else{o.push(p)}}return o}function i(o,n){var m=h(n,o);if(m!==-1){n.splice(m,1)}}function f(p,t,u,m,o){var q=p.create("isotope",{layoutMode:"masonry",isJQueryFiltering:true,sortAscending:true});q.Item=q.prototype.settings.item=m;q.LayoutMode=o;q.prototype._create=function(){this.itemGUID=0;this._sorters={};p.prototype._create.call(this);this.modes={};this.filteredItems=this.items;this.sortHistory=["original-order"];for(var v in o.modes){this._initLayoutMode(v)}};q.prototype.reloadItems=function(){this.itemGUID=0;p.prototype.reloadItems.call(this)};q.prototype._itemize=function(){var w=p.prototype._itemize.apply(this,arguments);for(var x=0,v=w.length;x<v;x++){var y=w[x];y.id=this.itemGUID++}this.updateSortData(w);return w};q.prototype._initLayoutMode=function(v){var w=o.modes[v];var x=this.options[v]||{};this.options[v]=w.options?g(w.options,x):x;this.modes[v]=new w(this)};q.prototype.layout=function(){if(!this._isLayoutInited&&this.options.isInitLayout){this.arrange();return}this._layout()};q.prototype._layout=function(){var v=this._getIsInstant();this._resetLayout();this._manageStamps();this.layoutItems(this.filteredItems,v);this._isLayoutInited=true};q.prototype.arrange=function(v){this.option(v);this._getIsInstant();this.filteredItems=this._filter(this.items);this._sort();this._layout()};q.prototype._init=q.prototype.arrange;q.prototype._getIsInstant=function(){var v=this.options.isLayoutInstant!==undefined?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=v};q.prototype._filter=function(E){var w=this.options.filter;w=w||"*";var z=[];var A=[];var v=[];var D=this._getFilterTest(w);for(var y=0,B=E.length;y<B;y++){var F=E[y];if(F.isIgnored){continue}var C=D(F);if(C){z.push(F)}if(C&&F.isHidden){A.push(F)}else{if(!C&&!F.isHidden){v.push(F)}}}var x=this.options.transitionDuration;if(this._isInstant){this.options.transitionDuration=0}this.reveal(A);this.hide(v);if(this._isInstant){this.options.transitionDuration=x}return z};q.prototype._getFilterTest=function(v){var w;if(k&&this.options.isJQueryFiltering){w=function(x){return k(x.element).is(v)}}else{if(typeof v==="function"){w=function(x){return v(x.element)}}else{w=function(x){return u(x.element,v)}}}return w};q.prototype.updateSortData=function(w){var A=this.options.getSortData;for(var y in A){var B=A[y];this._sorters[y]=n(B)}w=w||this.items;for(var x=0,v=w.length;x<v;x++){var z=w[x];if(z.isIgnored){continue}z.updateSortData()}};var n=(function(){function x(E){if(typeof E!=="string"){return E}var A=c(E).split(" ");var C=A[0];var B=C.match(/^\[(.+)\]$/);var y=B&&B[1];var z=v(y,C);var D=w(A[1]);E=D?function(F){return F&&D(z(F))}:function(F){return F&&z(F)};return E}function v(y,A){var z;if(y){z=function(B){return B.getAttribute(y)}}else{z=function(B){var C=B.querySelector(A);return C&&j(C)}}return z}function w(y){var z;switch(y){case"parseInt":z=function(A){return parseInt(A,10)};break;case"parseFloat":z=function(A){return parseFloat(A)};break;default:z=function(A){return A}}return z}return x})();q.prototype._sort=function(){var x=this.options.sortBy;if(!x){return}var v=[].concat.apply(x,this.sortHistory);var w=s(v,this.options.sortAscending);this.filteredItems.sort(w);if(x!==this.sortHistory[0]){this.sortHistory.unshift(x)}};function s(w,v){return function x(F,D){for(var z=0,A=w.length;z<A;z++){var G=w[z];var E=F.sortData[G];var B=D.sortData[G];if(E>B||E<B){var y=v[G]!==undefined?v[G]:v;var C=y?1:-1;return(E>B?1:-1)*C}}return 0}}q.prototype._mode=function(){var w=this.options.layoutMode;var v=this.modes[w];if(!v){throw new Error("No layout mode: "+w)}v.options=this.options[w];return v};q.prototype._resetLayout=function(){p.prototype._resetLayout.call(this);this._mode()._resetLayout()};q.prototype._getItemLayoutPosition=function(v){return this._mode()._getItemLayoutPosition(v)};q.prototype._manageStamp=function(v){var w=this._mode();w.options.isOriginLeft=this.options.isOriginLeft;w.options.isOriginTop=this.options.isOriginTop;w._manageStamp(v)};q.prototype._getContainerSize=function(){return this._mode()._getContainerSize()};q.prototype.resize=function(){this._mode().resize()};q.prototype.appended=function(w){var v=this.addItems(w);if(!v.length){return}var x=this._filterRevealAdded(v);this.filteredItems=this.filteredItems.concat(x)};q.prototype.prepended=function(w){var v=this._itemize(w);if(!v.length){return}var y=this.items.slice(0);this.items=v.concat(y);this._resetLayout();this._manageStamps();var x=this._filterRevealAdded(v);this.layoutItems(y);this.filteredItems=x.concat(this.filteredItems)};q.prototype._filterRevealAdded=function(w){var v=this.options.transitionDuration;this.options.transitionDuration=0;var x=this._filter(w);this.options.transitionDuration=v;this.layoutItems(x,true);this.reveal(x);return w};q.prototype.insert=function(w){var v=this.addItems(w);if(!v.length){return}this.arrange()};var r=q.prototype.remove;q.prototype.remove=function(w){w=a(w);var y=this.getItems(w);r.call(this,w);if(!y||!y.length){return}for(var x=0,v=y.length;x<v;x++){var z=y[x];i(z,this.filteredItems)}};return q}if(typeof define==="function"&&define.amd){define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","isotope/js/item","isotope/js/layout-mode"],f)}else{e.Isotope=f(e.Outlayer,e.getSize,e.matchesSelector,e.Isotope.Item,e.Isotope.LayoutMode)}})(window);
/*!
 * Masonry v3.1.4
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
(function(c){var b=Array.prototype.indexOf?function(d,e){return d.indexOf(e)}:function(e,h){for(var f=0,d=e.length;f<d;f++){var g=e[f];if(g===h){return f}}return -1};function a(e,f){var d=e.create("masonry");d.prototype._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();var g=this.cols;this.colYs=[];while(g--){this.colYs.push(0)}this.maxY=0};d.prototype.measureColumns=function(){this.getContainerWidth();if(!this.columnWidth){var h=this.items[0];var g=h&&h.element;this.columnWidth=g&&f(g).outerWidth||this.containerWidth}this.columnWidth+=this.gutter;this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth);this.cols=Math.max(this.cols,1)};d.prototype.getContainerWidth=function(){var g=this.options.isFitWidth?this.element.parentNode:this.element;var h=f(g);this.containerWidth=h&&h.innerWidth};d.prototype._getItemLayoutPosition=function(r){r.getSize();var q=r.size.outerWidth%this.columnWidth;var m=q&&q<1?"round":"ceil";var n=Math[m](r.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);var g=this._getColGroup(n);var h=Math.min.apply(Math,g);var o=b(g,h);var l={x:this.columnWidth*o,y:h};var p=h+r.size.outerHeight;var j=this.cols+1-g.length;for(var k=0;k<j;k++){this.colYs[o+k]=p}return l};d.prototype._getColGroup=function(j){if(j<2){return this.colYs}var k=[];var l=this.cols+1-j;for(var g=0;g<l;g++){var h=this.colYs.slice(g,g+j);k[g]=Math.max.apply(Math,h)}return k};d.prototype._manageStamp=function(g){var n=f(g);var l=this._getElementOffset(g);var k=this.options.isOriginLeft?l.left:l.right;var h=k+n.outerWidth;var p=Math.floor(k/this.columnWidth);p=Math.max(0,p);var j=Math.floor(h/this.columnWidth);j-=h%this.columnWidth?0:1;j=Math.min(this.cols-1,j);var o=(this.options.isOriginTop?l.top:l.bottom)+n.outerHeight;for(var m=p;m<=j;m++){this.colYs[m]=Math.max(o,this.colYs[m])}};d.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var g={height:this.maxY};if(this.options.isFitWidth){g.width=this._getContainerFitWidth()}return g};d.prototype._getContainerFitWidth=function(){var h=0;var g=this.cols;while(--g){if(this.colYs[g]!==0){break}h++}return(this.cols-h)*this.columnWidth-this.gutter};d.prototype.resize=function(){var g=this.containerWidth;this.getContainerWidth();if(g===this.containerWidth){return}this.layout()};return d}if(typeof define==="function"&&define.amd){define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],a)}else{c.Masonry=a(c.Outlayer,c.getSize)}})(window);
/*!
 * Masonry layout mode
 * sub-classes Masonry
 * http://masonry.desandro.com
 */
(function(b){function c(e,d){for(var f in d){e[f]=d[f]}return e}function a(h,e){var d=h.create("masonry");var j=d.prototype._getElementOffset;var i=d.prototype.layout;var g=d.prototype._getMeasurement;c(d.prototype,e.prototype);d.prototype._getElementOffset=j;d.prototype.layout=i;d.prototype._getMeasurement=g;var f=d.prototype.measureColumns;d.prototype.measureColumns=function(){this.items=this.isotope.filteredItems;f.call(this)};return d}if(typeof define==="function"&&define.amd){define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],a)}else{a(b.Isotope.LayoutMode,b.Masonry)}})(window);(function(b){function a(d){var c=d.create("fitRows");c.prototype._resetLayout=function(){this.x=0;this.y=0;this.maxY=0};c.prototype._getItemLayoutPosition=function(f){f.getSize();if(this.x!==0&&f.size.outerWidth+this.x>this.isotope.size.innerWidth){this.x=0;this.y=this.maxY}var e={x:this.x,y:this.y};this.maxY=Math.max(this.maxY,this.y+f.size.outerHeight);this.x+=f.size.outerWidth;return e};c.prototype._getContainerSize=function(){return{height:this.maxY}};return c}if(typeof define==="function"&&define.amd){define("isotope/js/layout-modes/fit-rows",["../layout-mode"],a)}else{a(b.Isotope.LayoutMode)}})(window);(function(b){function a(d){var c=d.create("vertical",{horizontalAlignment:0});c.prototype._resetLayout=function(){this.y=0};c.prototype._getItemLayoutPosition=function(f){f.getSize();var e=(this.isotope.size.innerWidth-f.size.outerWidth)*this.options.horizontalAlignment;var g=this.y;this.y+=f.size.outerHeight;return{x:e,y:g}};c.prototype._getContainerSize=function(){return{height:this.y}};return c}if(typeof define==="function"&&define.amd){define("isotope/js/layout-modes/vertical",["../layout-mode"],a)}else{a(b.Isotope.LayoutMode)}})(window);
/*! Magnific Popup - v0.9.9 - 2013-12-27
* http://dimsemenov.com/plugins/magnific-popup/
* Copyright (c) 2013 Dmitry Semenov; */
(function(C){var y="Close",H="BeforeClose",v="AfterClose",N="BeforeAppend",f="MarkupParse",k="Open",h="Change",D="mfp",d="."+D,I="mfp-ready",K="mfp-removing",e="mfp-prevent-close";var S,z=function(){},J=!!(window.jQuery),B,a=C(window),x,A,F,b,L;var i=function(W,X){S.ev.on(D+W+d,X)},n=function(aa,X,Y,W){var Z=document.createElement("div");Z.className="mfp-"+aa;if(Y){Z.innerHTML=Y}if(!W){Z=C(Z);if(X){Z.appendTo(X)}}else{if(X){X.appendChild(Z)}}return Z},P=function(X,W){S.ev.triggerHandler(D+X,W);if(S.st.callbacks){X=X.charAt(0).toLowerCase()+X.slice(1);if(S.st.callbacks[X]){S.st.callbacks[X].apply(S,C.isArray(W)?W:[W])}}},E=function(W){if(W!==L||!S.currTemplate.closeBtn){S.currTemplate.closeBtn=C(S.st.closeMarkup.replace("%title%",S.st.tClose));L=W}return S.currTemplate.closeBtn},s=function(){if(!C.magnificPopup.instance){S=new z();S.init();C.magnificPopup.instance=S}},V=function(){var X=document.createElement("p").style,W=["ms","O","Moz","Webkit"];if(X.transition!==undefined){return true}while(W.length){if(W.pop()+"Transition" in X){return true}}return false};z.prototype={constructor:z,init:function(){var W=navigator.appVersion;S.isIE7=W.indexOf("MSIE 7.")!==-1;S.isIE8=W.indexOf("MSIE 8.")!==-1;S.isLowIE=S.isIE7||S.isIE8;S.isAndroid=(/android/gi).test(W);S.isIOS=(/iphone|ipad|ipod/gi).test(W);S.supportsTransition=V();S.probablyMobile=(S.isAndroid||S.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent));A=C(document);S.popupsCache={}},open:function(ab){if(!x){x=C(document.body)}var ac;if(ab.isObj===false){S.items=ab.items.toArray();S.index=0;var ad=ab.items,ae;for(ac=0;ac<ad.length;ac++){ae=ad[ac];if(ae.parsed){ae=ae.el[0]}if(ae===ab.el[0]){S.index=ac;break}}}else{S.items=C.isArray(ab.items)?ab.items:[ab.items];S.index=ab.index||0}if(S.isOpen){S.updateItemHTML();return}S.types=[];b="";if(ab.mainEl&&ab.mainEl.length){S.ev=ab.mainEl.eq(0)}else{S.ev=A}if(ab.key){if(!S.popupsCache[ab.key]){S.popupsCache[ab.key]={}}S.currTemplate=S.popupsCache[ab.key]}else{S.currTemplate={}}S.st=C.extend(true,{},C.magnificPopup.defaults,ab);S.fixedContentPos=S.st.fixedContentPos==="auto"?!S.probablyMobile:S.st.fixedContentPos;if(S.st.modal){S.st.closeOnContentClick=false;S.st.closeOnBgClick=false;S.st.showCloseBtn=false;S.st.enableEscapeKey=false}if(!S.bgOverlay){S.bgOverlay=n("bg").on("click"+d,function(){S.close()});S.wrap=n("wrap").attr("tabindex",-1).on("click"+d,function(ag){if(S._checkIfClose(ag.target)){S.close()}});S.container=n("container",S.wrap)}S.contentContainer=n("content");if(S.st.preloader){S.preloader=n("preloader",S.container,S.st.tLoading)}var aa=C.magnificPopup.modules;for(ac=0;ac<aa.length;ac++){var Z=aa[ac];Z=Z.charAt(0).toUpperCase()+Z.slice(1);S["init"+Z].call(S)}P("BeforeOpen");if(S.st.showCloseBtn){if(!S.st.closeBtnInside){S.wrap.append(E())}else{i(f,function(aj,ah,ag,ai){ag.close_replaceWith=E(ai.type)});b+=" mfp-close-btn-in"}}if(S.st.alignTop){b+=" mfp-align-top"}if(S.fixedContentPos){S.wrap.css({overflow:S.st.overflowY,overflowX:"hidden",overflowY:S.st.overflowY})}else{S.wrap.css({top:a.scrollTop(),position:"absolute"})}if(S.st.fixedBgPos===false||(S.st.fixedBgPos==="auto"&&!S.fixedContentPos)){S.bgOverlay.css({height:A.height(),position:"absolute"})}if(S.st.enableEscapeKey){A.on("keyup"+d,function(ag){if(ag.keyCode===27){S.close()}})}a.on("resize"+d,function(){S.updateSize()});if(!S.st.closeOnContentClick){b+=" mfp-auto-cursor"}if(b){S.wrap.addClass(b)}var W=S.wH=a.height();var Y={};if(S.fixedContentPos){if(S._hasScrollBar(W)){var af=S._getScrollbarSize();if(af){Y.marginRight=af}}}if(S.fixedContentPos){if(!S.isIE7){Y.overflow="hidden"}else{C("body, html").css("overflow","hidden")}}var X=S.st.mainClass;if(S.isIE7){X+=" mfp-ie7"}if(X){S._addClassToMFP(X)}S.updateItemHTML();P("BuildControls");C("html").css(Y);S.bgOverlay.add(S.wrap).prependTo(S.st.prependTo||x);S._lastFocusedEl=document.activeElement;setTimeout(function(){if(S.content){S._addClassToMFP(I);S._setFocus()}else{S.bgOverlay.addClass(I)}A.on("focusin"+d,S._onFocusIn)},16);S.isOpen=true;S.updateSize(W);P(k);return ab},close:function(){if(!S.isOpen){return}P(H);S.isOpen=false;if(S.st.removalDelay&&!S.isLowIE&&S.supportsTransition){S._addClassToMFP(K);setTimeout(function(){S._close()},S.st.removalDelay)}else{S._close()}},_close:function(){P(y);var W=K+" "+I+" ";S.bgOverlay.detach();S.wrap.detach();S.container.empty();if(S.st.mainClass){W+=S.st.mainClass+" "}S._removeClassFromMFP(W);if(S.fixedContentPos){var X={marginRight:""};if(S.isIE7){C("body, html").css("overflow","")}else{X.overflow=""}C("html").css(X)}A.off("keyup"+d+" focusin"+d);S.ev.off(d);S.wrap.attr("class","mfp-wrap").removeAttr("style");S.bgOverlay.attr("class","mfp-bg");S.container.attr("class","mfp-container");if(S.st.showCloseBtn&&(!S.st.closeBtnInside||S.currTemplate[S.currItem.type]===true)){if(S.currTemplate.closeBtn){S.currTemplate.closeBtn.detach()}}if(S._lastFocusedEl){C(S._lastFocusedEl).focus()}S.currItem=null;S.content=null;S.currTemplate=null;S.prevHeight=0;P(v)},updateSize:function(X){if(S.isIOS){var Y=document.documentElement.clientWidth/window.innerWidth;var W=window.innerHeight*Y;S.wrap.css("height",W);S.wH=W}else{S.wH=X||a.height()}if(!S.fixedContentPos){S.wrap.css("height",S.wH)}P("Resize")},updateItemHTML:function(){var Z=S.items[S.index];S.contentContainer.detach();if(S.content){S.content.detach()}if(!Z.parsed){Z=S.parseEl(S.index)}var Y=Z.type;P("BeforeChange",[S.currItem?S.currItem.type:"",Y]);S.currItem=Z;if(!S.currTemplate[Y]){var X=S.st[Y]?S.st[Y].markup:false;P("FirstMarkupParse",X);if(X){S.currTemplate[Y]=C(X)}else{S.currTemplate[Y]=true}}if(F&&F!==Z.type){S.container.removeClass("mfp-"+F+"-holder")}var W=S["get"+Y.charAt(0).toUpperCase()+Y.slice(1)](Z,S.currTemplate[Y]);S.appendContent(W,Y);Z.preloaded=true;P(h,Z);F=Z.type;S.container.prepend(S.contentContainer);P("AfterChange")},appendContent:function(W,X){S.content=W;if(W){if(S.st.showCloseBtn&&S.st.closeBtnInside&&S.currTemplate[X]===true){if(!S.content.find(".mfp-close").length){S.content.append(E())}}else{S.content=W}}else{S.content=""}P(N);S.container.addClass("mfp-"+X+"-holder");S.contentContainer.append(S.content)},parseEl:function(W){var aa=S.items[W],Z;if(aa.tagName){aa={el:C(aa)}}else{Z=aa.type;aa={data:aa,src:aa.src}}if(aa.el){var Y=S.types;for(var X=0;X<Y.length;X++){if(aa.el.hasClass("mfp-"+Y[X])){Z=Y[X];break}}aa.src=aa.el.attr("data-mfp-src");if(!aa.src){aa.src=aa.el.attr("href")}}aa.type=Z||S.st.type||"inline";aa.index=W;aa.parsed=true;S.items[W]=aa;P("ElementParse",aa);return S.items[W]},addGroup:function(Y,X){var Z=function(aa){aa.mfpEl=this;S._openClick(aa,Y,X)};if(!X){X={}}var W="click.magnificPopup";X.mainEl=Y;if(X.items){X.isObj=true;Y.off(W).on(W,Z)}else{X.isObj=false;if(X.delegate){Y.off(W).on(W,X.delegate,Z)}else{X.items=Y;Y.off(W).on(W,Z)}}},_openClick:function(aa,Y,W){var X=W.midClick!==undefined?W.midClick:C.magnificPopup.defaults.midClick;if(!X&&(aa.which===2||aa.ctrlKey||aa.metaKey)){return}var Z=W.disableOn!==undefined?W.disableOn:C.magnificPopup.defaults.disableOn;if(Z){if(C.isFunction(Z)){if(!Z.call(S)){return true}}else{if(a.width()<Z){return true}}}if(aa.type){aa.preventDefault();if(S.isOpen){aa.stopPropagation()}}W.el=C(aa.mfpEl);if(W.delegate){W.items=Y.find(W.delegate)}S.open(W)},updateStatus:function(W,Y){if(S.preloader){if(B!==W){S.container.removeClass("mfp-s-"+B)}if(!Y&&W==="loading"){Y=S.st.tLoading}var X={status:W,text:Y};P("UpdateStatus",X);W=X.status;Y=X.text;S.preloader.html(Y);S.preloader.find("a").on("click",function(Z){Z.stopImmediatePropagation()});S.container.addClass("mfp-s-"+W);B=W}},_checkIfClose:function(Y){if(C(Y).hasClass(e)){return}var W=S.st.closeOnContentClick;var X=S.st.closeOnBgClick;if(W&&X){return true}else{if(!S.content||C(Y).hasClass("mfp-close")||(S.preloader&&Y===S.preloader[0])){return true}if((Y!==S.content[0]&&!C.contains(S.content[0],Y))){if(X){if(C.contains(document,Y)){return true}}}else{if(W){return true}}}return false},_addClassToMFP:function(W){S.bgOverlay.addClass(W);S.wrap.addClass(W)},_removeClassFromMFP:function(W){this.bgOverlay.removeClass(W);S.wrap.removeClass(W)},_hasScrollBar:function(W){return((S.isIE7?A.height():document.body.scrollHeight)>(W||a.height()))},_setFocus:function(){(S.st.focus?S.content.find(S.st.focus).eq(0):S.wrap).focus()},_onFocusIn:function(W){if(W.target!==S.wrap[0]&&!C.contains(S.wrap[0],W.target)){S._setFocus();return false}},_parseMarkup:function(Y,X,Z){var W;if(Z.data){X=C.extend(Z.data,X)}P(f,[Y,X,Z]);C.each(X,function(ab,ad){if(ad===undefined||ad===false){return true}W=ab.split("_");if(W.length>1){var ac=Y.find(d+"-"+W[0]);if(ac.length>0){var aa=W[1];if(aa==="replaceWith"){if(ac[0]!==ad[0]){ac.replaceWith(ad)}}else{if(aa==="img"){if(ac.is("img")){ac.attr("src",ad)}else{ac.replaceWith('<img src="'+ad+'" class="'+ac.attr("class")+'" />')}}else{ac.attr(W[1],ad)}}}}else{Y.find(d+"-"+ab).html(ad)}})},_getScrollbarSize:function(){if(S.scrollbarSize===undefined){var W=document.createElement("div");W.id="mfp-sbm";W.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;";document.body.appendChild(W);S.scrollbarSize=W.offsetWidth-W.clientWidth;document.body.removeChild(W)}return S.scrollbarSize}};C.magnificPopup={instance:null,proto:z.prototype,modules:[],open:function(X,W){s();if(!X){X={}}else{X=C.extend(true,{},X)}X.isObj=true;X.index=W||0;return this.instance.open(X)},close:function(){return C.magnificPopup.instance&&C.magnificPopup.instance.close()},registerModule:function(W,X){if(X.options){C.magnificPopup.defaults[W]=X.options}C.extend(this.proto,X.proto);this.modules.push(W)},defaults:{disableOn:0,key:null,midClick:false,mainClass:"",preloader:true,focus:"",closeOnContentClick:false,closeOnBgClick:true,closeBtnInside:true,showCloseBtn:true,enableEscapeKey:true,modal:false,alignTop:false,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}};C.fn.magnificPopup=function(Y){s();var Z=C(this);if(typeof Y==="string"){if(Y==="open"){var W,aa=J?Z.data("magnificPopup"):Z[0].magnificPopup,X=parseInt(arguments[1],10)||0;if(aa.items){W=aa.items[X]}else{W=Z;if(aa.delegate){W=W.find(aa.delegate)}W=W.eq(X)}S._openClick({mfpEl:W},Z,aa)}else{if(S.isOpen){S[Y].apply(S,Array.prototype.slice.call(arguments,1))}}}else{Y=C.extend(true,{},Y);if(J){Z.data("magnificPopup",Y)}else{Z[0].magnificPopup=Y}S.addGroup(Z,Y)}return Z};var G="inline",R,O,r,l=function(){if(r){O.after(r.addClass(R)).detach();r=null}};C.magnificPopup.registerModule(G,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){S.types.push(G);i(y+"."+G,function(){l()})},getInline:function(aa,Z){l();if(aa.src){var W=S.st.inline,Y=C(aa.src);if(Y.length){var X=Y[0].parentNode;if(X&&X.tagName){if(!O){R=W.hiddenClass;O=n(R);R="mfp-"+R}r=Y.after(O).detach().removeClass(R)}S.updateStatus("ready")}else{S.updateStatus("error",W.tNotFound);Y=C("<div>")}aa.inlineElement=Y;return Y}S.updateStatus("ready");S._parseMarkup(Z,{},aa);return Z}}});var t="ajax",U,u=function(){if(U){x.removeClass(U)}},T=function(){u();if(S.req){S.req.abort()}};C.magnificPopup.registerModule(t,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){S.types.push(t);U=S.st.ajax.cursor;i(y+"."+t,T);i("BeforeChange."+t,T)},getAjax:function(X){if(U){x.addClass(U)}S.updateStatus("loading");var W=C.extend({url:X.src,success:function(aa,ab,Z){var Y={data:aa,xhr:Z};P("ParseAjax",Y);S.appendContent(C(Y.data),t);X.finished=true;u();S._setFocus();setTimeout(function(){S.wrap.addClass(I)},16);S.updateStatus("ready");P("AjaxContentAdded")},error:function(){u();X.finished=X.loadError=true;S.updateStatus("error",S.st.ajax.tError.replace("%url%",X.src))}},S.st.ajax.settings);S.req=C.ajax(W);return""}}});var g,c=function(W){if(W.data&&W.data.title!==undefined){return W.data.title}var X=S.st.image.titleSrc;if(X){if(C.isFunction(X)){return X.call(S,W)}else{if(W.el){return W.el.attr(X)||""}}}return""};C.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:true,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var X=S.st.image,W=".image";S.types.push("image");i(k+W,function(){if(S.currItem.type==="image"&&X.cursor){x.addClass(X.cursor)}});i(y+W,function(){if(X.cursor){x.removeClass(X.cursor)}a.off("resize"+d)});i("Resize"+W,S.resizeImage);if(S.isLowIE){i("AfterChange",S.resizeImage)}},resizeImage:function(){var X=S.currItem;if(!X||!X.img){return}if(S.st.image.verticalFit){var W=0;if(S.isLowIE){W=parseInt(X.img.css("padding-top"),10)+parseInt(X.img.css("padding-bottom"),10)}X.img.css("max-height",S.wH-W)}},_onImageHasSize:function(W){if(W.img){W.hasSize=true;if(g){clearInterval(g)}W.isCheckingImgSize=false;P("ImageHasSize",W);if(W.imgHidden){if(S.content){S.content.removeClass("mfp-loading")}W.imgHidden=false}}},findImageSize:function(Z){var W=0,X=Z.img[0],Y=function(aa){if(g){clearInterval(g)}g=setInterval(function(){if(X.naturalWidth>0){S._onImageHasSize(Z);return}if(W>200){clearInterval(g)}W++;if(W===3){Y(10)}else{if(W===40){Y(50)}else{if(W===100){Y(500)}}}},aa)};Y(1)},getImage:function(ac,Z){var ab=0,ad=function(){if(ac){if(ac.img[0].complete){ac.img.off(".mfploader");if(ac===S.currItem){S._onImageHasSize(ac);S.updateStatus("ready")}ac.hasSize=true;ac.loaded=true;P("ImageLoadComplete")}else{ab++;if(ab<200){setTimeout(ad,100)}else{W()}}}},W=function(){if(ac){ac.img.off(".mfploader");if(ac===S.currItem){S._onImageHasSize(ac);S.updateStatus("error",aa.tError.replace("%url%",ac.src))}ac.hasSize=true;ac.loaded=true;ac.loadError=true}},aa=S.st.image;var Y=Z.find(".mfp-img");if(Y.length){var X=document.createElement("img");X.className="mfp-img";ac.img=C(X).on("load.mfploader",ad).on("error.mfploader",W);X.src=ac.src;if(Y.is("img")){ac.img=ac.img.clone()}X=ac.img[0];if(X.naturalWidth>0){ac.hasSize=true}else{if(!X.width){ac.hasSize=false}}}S._parseMarkup(Z,{title:c(ac),img_replaceWith:ac.img},ac);S.resizeImage();if(ac.hasSize){if(g){clearInterval(g)}if(ac.loadError){Z.addClass("mfp-loading");S.updateStatus("error",aa.tError.replace("%url%",ac.src))}else{Z.removeClass("mfp-loading");S.updateStatus("ready")}return Z}S.updateStatus("loading");ac.loading=true;if(!ac.hasSize){ac.imgHidden=true;Z.addClass("mfp-loading");S.findImageSize(ac)}return Z}}});var j,M=function(){if(j===undefined){j=document.createElement("p").style.MozTransform!==undefined}return j};C.magnificPopup.registerModule("zoom",{options:{enabled:false,easing:"ease-in-out",duration:300,opener:function(W){return W.is("img")?W:W.find("img")}},proto:{initZoom:function(){var X=S.st.zoom,aa=".zoom",ad;if(!X.enabled||!S.supportsTransition){return}var ac=X.duration,ab=function(ag){var af=ag.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),ah="all "+(X.duration/1000)+"s "+X.easing,ai={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},ae="transition";ai["-webkit-"+ae]=ai["-moz-"+ae]=ai["-o-"+ae]=ai[ae]=ah;af.css(ai);return af},W=function(){S.content.css("visibility","visible")},Y,Z;i("BuildControls"+aa,function(){if(S._allowZoom()){clearTimeout(Y);S.content.css("visibility","hidden");ad=S._getItemToZoom();if(!ad){W();return}Z=ab(ad);Z.css(S._getOffset());S.wrap.append(Z);Y=setTimeout(function(){Z.css(S._getOffset(true));Y=setTimeout(function(){W();setTimeout(function(){Z.remove();ad=Z=null;P("ZoomAnimationEnded")},16)},ac)},16)}});i(H+aa,function(){if(S._allowZoom()){clearTimeout(Y);S.st.removalDelay=ac;if(!ad){ad=S._getItemToZoom();if(!ad){return}Z=ab(ad)}Z.css(S._getOffset(true));S.wrap.append(Z);S.content.css("visibility","hidden");setTimeout(function(){Z.css(S._getOffset())},16)}});i(y+aa,function(){if(S._allowZoom()){W();if(Z){Z.remove()}ad=null}})},_allowZoom:function(){return S.currItem.type==="image"},_getItemToZoom:function(){if(S.currItem.hasSize){return S.currItem.img}else{return false}},_getOffset:function(Y){var W;if(Y){W=S.currItem.img}else{W=S.st.zoom.opener(S.currItem.el||S.currItem)}var ab=W.offset();var X=parseInt(W.css("padding-top"),10);var aa=parseInt(W.css("padding-bottom"),10);ab.top-=(C(window).scrollTop()-X);var Z={width:W.width(),height:(J?W.innerHeight():W[0].offsetHeight)-aa-X};if(M()){Z["-moz-transform"]=Z.transform="translate("+ab.left+"px,"+ab.top+"px)"}else{Z.left=ab.left;Z.top=ab.top}return Z}}});var q="iframe",p="//about:blank",Q=function(W){if(S.currTemplate[q]){var X=S.currTemplate[q].find("iframe");if(X.length){if(!W){X[0].src=p}if(S.isIE8){X.css("display",W?"block":"none")}}}};C.magnificPopup.registerModule(q,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){S.types.push(q);i("BeforeChange",function(Y,W,X){if(W!==X){if(W===q){Q()}else{if(X===q){Q(true)}}}});i(y+"."+q,function(){Q()})},getIframe:function(aa,Z){var W=aa.src;var Y=S.st.iframe;C.each(Y.patterns,function(){if(W.indexOf(this.index)>-1){if(this.id){if(typeof this.id==="string"){W=W.substr(W.lastIndexOf(this.id)+this.id.length,W.length)}else{W=this.id.call(this,W)}}W=this.src.replace("%id%",W);return false}});var X={};if(Y.srcAction){X[Y.srcAction]=W}S._parseMarkup(Z,X,aa);S.updateStatus("ready");return Z}}});var w=function(W){var X=S.items.length;if(W>X-1){return W-X}else{if(W<0){return X+W}}return W},o=function(Y,X,W){return Y.replace(/%curr%/gi,X+1).replace(/%total%/gi,W)};C.magnificPopup.registerModule("gallery",{options:{enabled:false,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:true,arrows:true,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var W=S.st.gallery,Y=".mfp-gallery",X=Boolean(C.fn.mfpFastClick);S.direction=true;if(!W||!W.enabled){return false}b+=" mfp-gallery";i(k+Y,function(){if(W.navigateByImgClick){S.wrap.on("click"+Y,".mfp-img",function(){if(S.items.length>1){S.next();return false}})}A.on("keydown"+Y,function(Z){if(Z.keyCode===37){S.prev()}else{if(Z.keyCode===39){S.next()}}})});i("UpdateStatus"+Y,function(aa,Z){if(Z.text){Z.text=o(Z.text,S.currItem.index,S.items.length)}});i(f+Y,function(ad,ab,aa,ac){var Z=S.items.length;aa.counter=Z>1?o(W.tCounter,ac.index,Z):""});i("BuildControls"+Y,function(){if(S.items.length>1&&W.arrows&&!S.arrowLeft){var ab=W.arrowMarkup,ac=S.arrowLeft=C(ab.replace(/%title%/gi,W.tPrev).replace(/%dir%/gi,"left")).addClass(e),aa=S.arrowRight=C(ab.replace(/%title%/gi,W.tNext).replace(/%dir%/gi,"right")).addClass(e);var Z=X?"mfpFastClick":"click";ac[Z](function(){S.prev()});aa[Z](function(){S.next()});if(S.isIE7){n("b",ac[0],false,true);n("a",ac[0],false,true);n("b",aa[0],false,true);n("a",aa[0],false,true)}S.container.append(ac.add(aa))}});i(h+Y,function(){if(S._preloadTimeout){clearTimeout(S._preloadTimeout)}S._preloadTimeout=setTimeout(function(){S.preloadNearbyImages();S._preloadTimeout=null},16)});i(y+Y,function(){A.off(Y);S.wrap.off("click"+Y);if(S.arrowLeft&&X){S.arrowLeft.add(S.arrowRight).destroyMfpFastClick()}S.arrowRight=S.arrowLeft=null})},next:function(){S.direction=true;S.index=w(S.index+1);S.updateItemHTML()},prev:function(){S.direction=false;S.index=w(S.index-1);S.updateItemHTML()},goTo:function(W){S.direction=(W>=S.index);S.index=W;S.updateItemHTML()},preloadNearbyImages:function(){var Z=S.st.gallery.preload,X=Math.min(Z[0],S.items.length),Y=Math.min(Z[1],S.items.length),W;for(W=1;W<=(S.direction?Y:X);W++){S._preloadItem(S.index+W)}for(W=1;W<=(S.direction?X:Y);W++){S._preloadItem(S.index-W)}},_preloadItem:function(W){W=w(W);if(S.items[W].preloaded){return}var X=S.items[W];if(!X.parsed){X=S.parseEl(W)}P("LazyLoad",X);if(X.type==="image"){X.img=C('<img class="mfp-img" />').on("load.mfploader",function(){X.hasSize=true}).on("error.mfploader",function(){X.hasSize=true;X.loadError=true;P("LazyLoadError",X)}).attr("src",X.src)}X.preloaded=true}}});var m="retina";C.magnificPopup.registerModule(m,{options:{replaceSrc:function(W){return W.src.replace(/\.\w+$/,function(X){return"@2x"+X})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var W=S.st.retina,X=W.ratio;X=!isNaN(X)?X:X();if(X>1){i("ImageHasSize."+m,function(Z,Y){Y.img.css({"max-width":Y.img[0].naturalWidth/X,width:"100%"})});i("ElementParse."+m,function(Z,Y){Y.src=W.replaceSrc(Y,X)})}}}}});(function(){var X=1000,Z="ontouchstart" in window,aa=function(){a.off("touchmove"+Y+" touchend"+Y)},W="mfpFastClick",Y="."+W;C.fn.mfpFastClick=function(ab){return C(this).each(function(){var ai=C(this),ah;if(Z){var aj,ae,ad,ag,ac,af;ai.on("touchstart"+Y,function(ak){ag=false;af=1;ac=ak.originalEvent?ak.originalEvent.touches[0]:ak.touches[0];ae=ac.clientX;ad=ac.clientY;a.on("touchmove"+Y,function(al){ac=al.originalEvent?al.originalEvent.touches:al.touches;af=ac.length;ac=ac[0];if(Math.abs(ac.clientX-ae)>10||Math.abs(ac.clientY-ad)>10){ag=true;aa()}}).on("touchend"+Y,function(al){aa();if(ag||af>1){return}ah=true;al.preventDefault();clearTimeout(aj);aj=setTimeout(function(){ah=false},X);ab()})})}ai.on("click"+Y,function(){if(!ah){ab()}})})};C.fn.destroyMfpFastClick=function(){C(this).off("touchstart"+Y+" click"+Y);if(Z){a.off("touchmove"+Y+" touchend"+Y)}}})();s()})(window.jQuery||window.Zepto);
/*!
* FitVids 1.0.3
*
* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
* Released under the WTFPL license - http://sam.zoy.org/wtfpl/
*
* Date: Thu Sept 01 18:00:00 2011 -0500
*/
(function(a){a.fn.fitVids=function(b){var c={customSelector:null};if(!document.getElementById("fit-vids-style")){var f=document.createElement("div"),d=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0],e="&shy;<style>.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>";f.className="fit-vids-style";f.id="fit-vids-style";f.style.display="none";f.innerHTML=e;d.parentNode.insertBefore(f,d)}if(b){a.extend(c,b)}return this.each(function(){var g=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];if(c.customSelector){g.push(c.customSelector)}var h=a(this).find(g.join(","));h=h.not("object object");h.each(function(){var m=a(this);if(this.tagName.toLowerCase()==="embed"&&m.parent("object").length||m.parent(".fluid-width-video-wrapper").length){return}var i=(this.tagName.toLowerCase()==="object"||(m.attr("height")&&!isNaN(parseInt(m.attr("height"),10))))?parseInt(m.attr("height"),10):m.height(),j=!isNaN(parseInt(m.attr("width"),10))?parseInt(m.attr("width"),10):m.width(),k=i/j;if(!m.attr("id")){var l="fitvid"+Math.floor(Math.random()*999999);m.attr("id",l)}m.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",(k*100)+"%");m.removeAttr("height").removeAttr("width")})})}})(window.jQuery||window.Zepto);(function(){var a=[].indexOf||function(e){for(var d=0,c=this.length;d<c;d++){if(d in this&&this[d]===e){return d}}return -1},b=[].slice;(function(c,d){if(typeof define==="function"&&define.amd){return define("waypoints",["jquery"],function(e){return d(e,c)})}else{return d(c.jQuery,c)}})(this,function(d,g){var p,n,q,s,j,e,f,k,i,t,h,m,r,o,c,l;p=d(g);k=a.call(g,"ontouchstart")>=0;s={horizontal:{},vertical:{}};j=1;f={};e="waypoints-context-id";h="resize.waypoints";m="scroll.waypoints";r=1;o="waypoints-waypoint-ids";c="waypoint";l="waypoints";n=(function(){function u(v){var w=this;this.$element=v;this.element=v[0];this.didResize=false;this.didScroll=false;this.id="context"+j++;this.oldScroll={x:v.scrollLeft(),y:v.scrollTop()};this.waypoints={horizontal:{},vertical:{}};this.element[e]=this.id;f[this.id]=this;v.bind(m,function(){var x;if(!(w.didScroll||k)){w.didScroll=true;x=function(){w.doScroll();return w.didScroll=false};return g.setTimeout(x,d[l].settings.scrollThrottle)}});v.bind(h,function(){var x;if(!w.didResize){w.didResize=true;x=function(){d[l]("refresh");return w.didResize=false};return g.setTimeout(x,d[l].settings.resizeThrottle)}})}u.prototype.doScroll=function(){var v,w=this;v={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};if(k&&(!v.vertical.oldScroll||!v.vertical.newScroll)){d[l]("refresh")}d.each(v,function(z,y){var B,A,x;x=[];A=y.newScroll>y.oldScroll;B=A?y.forward:y.backward;d.each(w.waypoints[z],function(E,D){var F,C;if((y.oldScroll<(F=D.offset)&&F<=y.newScroll)){return x.push(D)}else{if((y.newScroll<(C=D.offset)&&C<=y.oldScroll)){return x.push(D)}}});x.sort(function(D,C){return D.offset-C.offset});if(!A){x.reverse()}return d.each(x,function(D,C){if(C.options.continuous||D===x.length-1){return C.trigger([B])}})});return this.oldScroll={x:v.horizontal.newScroll,y:v.vertical.newScroll}};u.prototype.refresh=function(){var x,v,w,y=this;w=d.isWindow(this.element);v=this.$element.offset();this.doScroll();x={horizontal:{contextOffset:w?0:v.left,contextScroll:w?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:w?0:v.top,contextScroll:w?0:this.oldScroll.y,contextDimension:w?d[l]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};return d.each(x,function(A,z){return d.each(y.waypoints[A],function(F,C){var E,D,H,G,B;E=C.options.offset;H=C.offset;D=d.isWindow(C.element)?0:C.$element.offset()[z.offsetProp];if(d.isFunction(E)){E=E.apply(C.element)}else{if(typeof E==="string"){E=parseFloat(E);if(C.options.offset.indexOf("%")>-1){E=Math.ceil(z.contextDimension*E/100)}}}C.offset=D-z.contextOffset+z.contextScroll-E;if((C.options.onlyOnScroll&&(H!=null))||!C.enabled){return}if(H!==null&&(H<(G=z.oldScroll)&&G<=C.offset)){return C.trigger([z.backward])}else{if(H!==null&&(H>(B=z.oldScroll)&&B>=C.offset)){return C.trigger([z.forward])}else{if(H===null&&z.oldScroll>=C.offset){return C.trigger([z.forward])}}}})})};u.prototype.checkEmpty=function(){if(d.isEmptyObject(this.waypoints.horizontal)&&d.isEmptyObject(this.waypoints.vertical)){this.$element.unbind([h,m].join(" "));return delete f[this.id]}};return u})();q=(function(){function u(v,x,w){var y,z;w=d.extend({},d.fn[c].defaults,w);if(w.offset==="bottom-in-view"){w.offset=function(){var A;A=d[l]("viewportHeight");if(!d.isWindow(x.element)){A=x.$element.height()}return A-d(this).outerHeight()}}this.$element=v;this.element=v[0];this.axis=w.horizontal?"horizontal":"vertical";this.callback=w.handler;this.context=x;this.enabled=w.enabled;this.id="waypoints"+r++;this.offset=null;this.options=w;x.waypoints[this.axis][this.id]=this;s[this.axis][this.id]=this;y=(z=this.element[o])!=null?z:[];y.push(this.id);this.element[o]=y}u.prototype.trigger=function(v){if(!this.enabled){return}if(this.callback!=null){this.callback.apply(this.element,v)}if(this.options.triggerOnce){return this.destroy()}};u.prototype.disable=function(){return this.enabled=false};u.prototype.enable=function(){this.context.refresh();return this.enabled=true};u.prototype.destroy=function(){delete s[this.axis][this.id];delete this.context.waypoints[this.axis][this.id];return this.context.checkEmpty()};u.getWaypointsByElement=function(v){var x,w;w=v[o];if(!w){return[]}x=d.extend({},s.horizontal,s.vertical);return d.map(w,function(y){return x[y]})};return u})();t={init:function(w,u){var v;if(u==null){u={}}if((v=u.handler)==null){u.handler=w}this.each(function(){var A,z,y,x;A=d(this);y=(x=u.context)!=null?x:d.fn[c].defaults.context;if(!d.isWindow(y)){y=A.closest(y)}y=d(y);z=f[y[0][e]];if(!z){z=new n(y)}return new q(A,z,u)});d[l]("refresh");return this},disable:function(){return t._invoke.call(this,"disable")},enable:function(){return t._invoke.call(this,"enable")},destroy:function(){return t._invoke.call(this,"destroy")},prev:function(v,u){return t._traverse.call(this,v,u,function(w,x,y){if(x>0){return w.push(y[x-1])}})},next:function(v,u){return t._traverse.call(this,v,u,function(w,x,y){if(x<y.length-1){return w.push(y[x+1])}})},_traverse:function(x,v,w){var u,y;if(x==null){x="vertical"}if(v==null){v=g}y=i.aggregate(v);u=[];this.each(function(){var z;z=d.inArray(this,y[x]);return w(u,z,y[x])});return this.pushStack(u)},_invoke:function(u){this.each(function(){var v;v=q.getWaypointsByElement(this);return d.each(v,function(x,w){w[u]();return true})});return this}};d.fn[c]=function(){var u,v;v=arguments[0],u=2<=arguments.length?b.call(arguments,1):[];if(t[v]){return t[v].apply(this,u)}else{if(d.isFunction(v)){return t.init.apply(this,arguments)}else{if(d.isPlainObject(v)){return t.init.apply(this,[null,v])}else{if(!v){return d.error("jQuery Waypoints needs a callback function or handler option.")}else{return d.error("The "+v+" method does not exist in jQuery Waypoints.")}}}}};d.fn[c].defaults={context:g,continuous:true,enabled:true,horizontal:false,offset:0,triggerOnce:false};i={refresh:function(){return d.each(f,function(v,u){return u.refresh()})},viewportHeight:function(){var u;return(u=g.innerHeight)!=null?u:p.height()},aggregate:function(x){var v,w,u;v=s;if(x){v=(u=f[d(x)[0][e]])!=null?u.waypoints:void 0}if(!v){return[]}w={horizontal:[],vertical:[]};d.each(w,function(z,y){d.each(v[z],function(B,A){return y.push(A)});y.sort(function(B,A){return B.offset-A.offset});w[z]=d.map(y,function(A){return A.element});return w[z]=d.unique(w[z])});return w},above:function(u){if(u==null){u=g}return i._filter(u,"vertical",function(w,v){return v.offset<=w.oldScroll.y})},below:function(u){if(u==null){u=g}return i._filter(u,"vertical",function(w,v){return v.offset>w.oldScroll.y})},left:function(u){if(u==null){u=g}return i._filter(u,"horizontal",function(w,v){return v.offset<=w.oldScroll.x})},right:function(u){if(u==null){u=g}return i._filter(u,"horizontal",function(w,v){return v.offset>w.oldScroll.x})},enable:function(){return i._invoke("enable")},disable:function(){return i._invoke("disable")},destroy:function(){return i._invoke("destroy")},extendFn:function(u,v){return t[u]=v},_invoke:function(v){var u;u=d.extend({},s.vertical,s.horizontal);return d.each(u,function(x,w){w[v]();return true})},_filter:function(u,w,y){var v,x;v=f[d(u)[0][e]];if(!v){return[]}x=[];d.each(v.waypoints[w],function(A,z){if(y(v,z)){return x.push(z)}});x.sort(function(A,z){return A.offset-z.offset});return d.map(x,function(z){return z.element})}};d[l]=function(){var u,v;v=arguments[0],u=2<=arguments.length?b.call(arguments,1):[];if(i[v]){return i[v].apply(null,u)}else{return i.aggregate.call(null,v)}};d[l].settings={resizeThrottle:100,scrollThrottle:30};return p.load(function(){return d[l]("refresh")})})}).call(this);function FastClick(b){var c,a=this;this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=10;this.layer=b;if(!b||!b.nodeType){throw new TypeError("Layer must be a document node")}this.onClick=function(){return FastClick.prototype.onClick.apply(a,arguments)};this.onMouse=function(){return FastClick.prototype.onMouse.apply(a,arguments)};this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(a,arguments)};this.onTouchMove=function(){return FastClick.prototype.onTouchMove.apply(a,arguments)};this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(a,arguments)};this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(a,arguments)};if(FastClick.notNeeded(b)){return}if(this.deviceIsAndroid){b.addEventListener("mouseover",this.onMouse,true);b.addEventListener("mousedown",this.onMouse,true);b.addEventListener("mouseup",this.onMouse,true)}b.addEventListener("click",this.onClick,true);b.addEventListener("touchstart",this.onTouchStart,false);b.addEventListener("touchmove",this.onTouchMove,false);b.addEventListener("touchend",this.onTouchEnd,false);b.addEventListener("touchcancel",this.onTouchCancel,false);if(!Event.prototype.stopImmediatePropagation){b.removeEventListener=function(e,g,d){var f=Node.prototype.removeEventListener;if(e==="click"){f.call(b,e,g.hijacked||g,d)}else{f.call(b,e,g,d)}};b.addEventListener=function(f,g,e){var d=Node.prototype.addEventListener;if(f==="click"){d.call(b,f,g.hijacked||(g.hijacked=function(h){if(!h.propagationStopped){g(h)}}),e)}else{d.call(b,f,g,e)}}}if(typeof b.onclick==="function"){c=b.onclick;b.addEventListener("click",function(d){c(d)},false);b.onclick=null}}FastClick.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0;FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent);FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&(/OS 4_\d(_\d)?/).test(navigator.userAgent);FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&(/OS ([6-9]|\d{2})_\d/).test(navigator.userAgent);FastClick.prototype.needsClick=function(a){switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled){return true}break;case"input":if((this.deviceIsIOS&&a.type==="file")||a.disabled){return true}break;case"label":case"video":return true}return(/\bneedsclick\b/).test(a.className)};FastClick.prototype.needsFocus=function(a){switch(a.nodeName.toLowerCase()){case"textarea":return true;case"select":return !this.deviceIsAndroid;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return false}return !a.disabled&&!a.readOnly;default:return(/\bneedsfocus\b/).test(a.className)}};FastClick.prototype.sendClick=function(b,c){var a,d;if(document.activeElement&&document.activeElement!==b){document.activeElement.blur()}d=c.changedTouches[0];a=document.createEvent("MouseEvents");a.initMouseEvent(this.determineEventType(b),true,true,window,1,d.screenX,d.screenY,d.clientX,d.clientY,false,false,false,false,0,null);a.forwardedTouchEvent=true;b.dispatchEvent(a)};FastClick.prototype.determineEventType=function(a){if(this.deviceIsAndroid&&a.tagName.toLowerCase()==="select"){return"mousedown"}return"click"};FastClick.prototype.focus=function(a){var b;if(this.deviceIsIOS&&a.setSelectionRange&&a.type.indexOf("date")!==0&&a.type!=="time"){b=a.value.length;a.setSelectionRange(b,b)}else{a.focus()}};FastClick.prototype.updateScrollParent=function(b){var c,a;c=b.fastClickScrollParent;if(!c||!c.contains(b)){a=b;do{if(a.scrollHeight>a.offsetHeight){c=a;b.fastClickScrollParent=a;break}a=a.parentElement}while(a)}if(c){c.fastClickLastScrollTop=c.scrollTop}};FastClick.prototype.getTargetElementFromEventTarget=function(a){if(a.nodeType===Node.TEXT_NODE){return a.parentNode}return a};FastClick.prototype.onTouchStart=function(c){var a,d,b;if(c.targetTouches.length>1){return true}a=this.getTargetElementFromEventTarget(c.target);d=c.targetTouches[0];if(this.deviceIsIOS){b=window.getSelection();if(b.rangeCount&&!b.isCollapsed){return true}if(!this.deviceIsIOS4){if(d.identifier===this.lastTouchIdentifier){c.preventDefault();return false}this.lastTouchIdentifier=d.identifier;this.updateScrollParent(a)}}this.trackingClick=true;this.trackingClickStart=c.timeStamp;this.targetElement=a;this.touchStartX=d.pageX;this.touchStartY=d.pageY;if((c.timeStamp-this.lastClickTime)<200){c.preventDefault()}return true};FastClick.prototype.touchHasMoved=function(a){var c=a.changedTouches[0],b=this.touchBoundary;if(Math.abs(c.pageX-this.touchStartX)>b||Math.abs(c.pageY-this.touchStartY)>b){return true}return false};FastClick.prototype.onTouchMove=function(a){if(!this.trackingClick){return true}if(this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a)){this.trackingClick=false;this.targetElement=null}return true};FastClick.prototype.findControl=function(a){if(a.control!==undefined){return a.control}if(a.htmlFor){return document.getElementById(a.htmlFor)}return a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};FastClick.prototype.onTouchEnd=function(c){var e,d,b,g,f,a=this.targetElement;if(!this.trackingClick){return true}if((c.timeStamp-this.lastClickTime)<200){this.cancelNextClick=true;return true}this.cancelNextClick=false;this.lastClickTime=c.timeStamp;d=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(this.deviceIsIOSWithBadTarget){f=c.changedTouches[0];a=document.elementFromPoint(f.pageX-window.pageXOffset,f.pageY-window.pageYOffset)||a;a.fastClickScrollParent=this.targetElement.fastClickScrollParent}b=a.tagName.toLowerCase();if(b==="label"){e=this.findControl(a);if(e){this.focus(a);if(this.deviceIsAndroid){return false}a=e}}else{if(this.needsFocus(a)){if((c.timeStamp-d)>100||(this.deviceIsIOS&&window.top!==window&&b==="input")){this.targetElement=null;return false}this.focus(a);if(!this.deviceIsIOS4||b!=="select"){this.targetElement=null;c.preventDefault()}return false}}if(this.deviceIsIOS&&!this.deviceIsIOS4){g=a.fastClickScrollParent;if(g&&g.fastClickLastScrollTop!==g.scrollTop){return true}}if(!this.needsClick(a)){c.preventDefault();this.sendClick(a,c)}return false};FastClick.prototype.onTouchCancel=function(){this.trackingClick=false;this.targetElement=null};FastClick.prototype.onMouse=function(a){if(!this.targetElement){return true}if(a.forwardedTouchEvent){return true}if(!a.cancelable){return true}if(!this.needsClick(this.targetElement)||this.cancelNextClick){if(a.stopImmediatePropagation){a.stopImmediatePropagation()}else{a.propagationStopped=true}a.stopPropagation();a.preventDefault();return false}return true};FastClick.prototype.onClick=function(a){var b;if(this.trackingClick){this.targetElement=null;this.trackingClick=false;return true}if(a.target.type==="submit"&&a.detail===0){return true}b=this.onMouse(a);if(!b){this.targetElement=null}return b};FastClick.prototype.destroy=function(){var a=this.layer;if(this.deviceIsAndroid){a.removeEventListener("mouseover",this.onMouse,true);a.removeEventListener("mousedown",this.onMouse,true);a.removeEventListener("mouseup",this.onMouse,true)}a.removeEventListener("click",this.onClick,true);a.removeEventListener("touchstart",this.onTouchStart,false);a.removeEventListener("touchmove",this.onTouchMove,false);a.removeEventListener("touchend",this.onTouchEnd,false);a.removeEventListener("touchcancel",this.onTouchCancel,false)};FastClick.notNeeded=function(b){var a;var c;if(typeof window.ontouchstart==="undefined"){return true}c=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(c){if(FastClick.prototype.deviceIsAndroid){a=document.querySelector("meta[name=viewport]");if(a){if(a.content.indexOf("user-scalable=no")!==-1){return true}if(c>31&&window.innerWidth<=window.screen.width){return true}}}else{return true}}if(b.style.msTouchAction==="none"){return true}return false};FastClick.attach=function(a){return new FastClick(a)};if(typeof define!=="undefined"&&define.amd){define(function(){return FastClick})}else{if(typeof module!=="undefined"&&module.exports){module.exports=FastClick.attach;module.exports.FastClick=FastClick}else{window.FastClick=FastClick}}+function(g){var e=".dropdown-backdrop";var b="[data-toggle=dropdown]";var a=function(h){g(h).on("click.bs.dropdown",this.toggle)};a.prototype.toggle=function(k){var j=g(this);if(j.is(".disabled, :disabled")){return}var i=f(j);var h=i.hasClass("open");d();if(!h){if("ontouchstart" in document.documentElement&&!i.closest(".navbar-nav").length){g('<div class="dropdown-backdrop"/>').insertAfter(g(this)).on("click",d)}i.trigger(k=g.Event("show.bs.dropdown"));if(k.isDefaultPrevented()){return}i.toggleClass("open").trigger("shown.bs.dropdown");j.focus()}return false};a.prototype.keydown=function(l){if(!/(38|40|27)/.test(l.keyCode)){return}var k=g(this);l.preventDefault();l.stopPropagation();if(k.is(".disabled, :disabled")){return}var j=f(k);var i=j.hasClass("open");if(!i||(i&&l.keyCode==27)){if(l.which==27){j.find(b).focus()}return k.click()}var m=g("[role=menu] li:not(.divider):visible a",j);if(!m.length){return}var h=m.index(m.filter(":focus"));if(l.keyCode==38&&h>0){h--}if(l.keyCode==40&&h<m.length-1){h++}if(!~h){h=0}m.eq(h).focus()};function d(){g(e).remove();g(b).each(function(i){var h=f(g(this));if(!h.hasClass("open")){return}h.trigger(i=g.Event("hide.bs.dropdown"));if(i.isDefaultPrevented()){return}h.removeClass("open").trigger("hidden.bs.dropdown")})}function f(j){var h=j.attr("data-target");if(!h){h=j.attr("href");h=h&&/#/.test(h)&&h.replace(/.*(?=#[^\s]*$)/,"")}var i=h&&g(h);return i&&i.length?i:j.parent()}var c=g.fn.dropdown;g.fn.dropdown=function(h){return this.each(function(){var j=g(this);var i=j.data("bs.dropdown");if(!i){j.data("bs.dropdown",(i=new a(this)))}if(typeof h=="string"){i[h].call(j)}})};g.fn.dropdown.Constructor=a;g.fn.dropdown.noConflict=function(){g.fn.dropdown=c;return this};g(document).on("click.bs.dropdown.data-api",d).on("click.bs.dropdown.data-api",".dropdown form",function(h){h.stopPropagation()}).on("click.bs.dropdown.data-api",b,a.prototype.toggle).on("keydown.bs.dropdown.data-api",b+", [role=menu]",a.prototype.keydown)}(jQuery);+function(b){function a(){var e=document.createElement("bootstrap");var d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in d){if(e.style[c]!==undefined){return{end:d[c]}}}}b.fn.emulateTransitionEnd=function(e){var d=false,c=this;b(this).one(b.support.transition.end,function(){d=true});var f=function(){if(!d){b(c).trigger(b.support.transition.end)}};setTimeout(f,e);return this};b(function(){b.support.transition=a()})}(jQuery);
/*!
 * imagesLoaded v3.1.1
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(f){var d=f.jQuery;var c=f.console;var a=typeof c!=="undefined";function g(k,j){for(var l in j){k[l]=j[l]}return k}var i=Object.prototype.toString;function e(j){return i.call(j)==="[object Array]"}function b(m){var l=[];if(e(m)){l=m}else{if(typeof m.length==="number"){for(var k=0,j=m.length;k<j;k++){l.push(m[k])}}else{l.push(m)}}return l}function h(m,k){function l(r,q,p){if(!(this instanceof l)){return new l(r,q)}if(typeof r==="string"){r=document.querySelectorAll(r)}this.elements=b(r);this.options=g({},this.options);if(typeof q==="function"){p=q}else{g(this.options,q)}if(p){this.on("always",p)}this.getImages();if(d){this.jqDeferred=new d.Deferred()}var s=this;setTimeout(function(){s.check()})}l.prototype=new m();l.prototype.options={};l.prototype.getImages=function(){this.images=[];for(var s=0,p=this.elements.length;s<p;s++){var t=this.elements[s];if(t.nodeName==="IMG"){this.addImage(t)}var v=t.querySelectorAll("img");for(var r=0,u=v.length;r<u;r++){var q=v[r];this.addImage(q)}}};l.prototype.addImage=function(p){var q=new o(p);this.images.push(q)};l.prototype.check=function(){var u=this;var q=0;var s=this.images.length;this.hasAnyBroken=false;if(!s){this.complete();return}function r(w,v){if(u.options.debug&&a){c.log("confirm",w,v)}u.progress(w);q++;if(q===s){u.complete()}return true}for(var p=0;p<s;p++){var t=this.images[p];t.on("confirm",r);t.check()}};l.prototype.progress=function(p){this.hasAnyBroken=this.hasAnyBroken||!p.isLoaded;var q=this;setTimeout(function(){q.emit("progress",q,p);if(q.jqDeferred){q.jqDeferred.notify(q,p)}})};l.prototype.complete=function(){var p=this.hasAnyBroken?"fail":"done";this.isComplete=true;var q=this;setTimeout(function(){q.emit(p,q);q.emit("always",q);if(q.jqDeferred){var r=q.hasAnyBroken?"reject":"resolve";q.jqDeferred[r](q)}})};if(d){d.fn.imagesLoaded=function(q,r){var p=new l(this,q,r);return p.jqDeferred.promise(d(this))}}function o(p){this.img=p}o.prototype=new m();o.prototype.check=function(){var p=j[this.img.src]||new n(this.img.src);if(p.isConfirmed){this.confirm(p.isLoaded,"cached was confirmed");return}if(this.img.complete&&this.img.naturalWidth!==undefined){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}var q=this;p.on("confirm",function(r,s){q.confirm(r.isLoaded,s);return true});p.check()};o.prototype.confirm=function(p,q){this.isLoaded=p;this.emit("confirm",this,q)};var j={};function n(p){this.src=p;j[p]=this}n.prototype=new m();n.prototype.check=function(){if(this.isChecked){return}var p=new Image();k.bind(p,"load",this);k.bind(p,"error",this);p.src=this.src;this.isChecked=true};n.prototype.handleEvent=function(p){var q="on"+p.type;if(this[q]){this[q](p)}};n.prototype.onload=function(p){this.confirm(true,"onload");this.unbindProxyEvents(p)};n.prototype.onerror=function(p){this.confirm(false,"onerror");this.unbindProxyEvents(p)};n.prototype.confirm=function(p,q){this.isConfirmed=true;this.isLoaded=p;this.emit("confirm",this,q)};n.prototype.unbindProxyEvents=function(p){k.unbind(p.target,"load",this);k.unbind(p.target,"error",this)};return l}if(typeof define==="function"&&define.amd){define(["eventEmitter/EventEmitter","eventie/eventie"],h)}else{f.imagesLoaded=h(f.EventEmitter,f.eventie)}})(window);
/*!
* Okay Plus
*
* Copyright 2014, Joe di Stefano - http://okaypl.us
* Released under the WTFPL license - http://sam.zoy.org/wtfpl/
*/
var $=$||jQuery,OK=OK||{};OK.init_mobile_nav=function(){var a=$("#menu-trigger"),b=$("nav");a.click(function(){b.toggleClass("active")})};OK.init_clock=function(){if(!$("body").hasClass("home")){return false}var e=$("#content"),d=$('<div class="clock-container"></div>'),c=$('<img src="/app/themes/ok/images/clock-outline.svg" />'),b=$('<img src="/app/themes/ok/images/clock-minute-hand.svg" />'),a=$('<img src="/app/themes/ok/images/clock-hour-hand.svg" />');e.addClass("js-clock");d.append(c,b,a);e.append(d);$(window).scroll(function(){var f=$(window).scrollTop();b.css({transform:"rotate("+f+"deg)"});a.css({transform:"rotate("+f/30+"deg)"})})};OK.show_testimonial=function(a){if(a=="down"){$(this).addClass("show")}else{$(this).removeClass("show")}};OK.init_testimonials=function(){if(!$("body").hasClass("home")){return false}$("#hero").addClass("active");$(".testimonial").waypoint({offset:"100%",continuous:true,handler:OK.show_testimonial})};OK.show_project_excerpt=function(a){if(a=="down"){$(this).addClass("show")}else{$(this).removeClass("show")}};OK.init_project_archive=function(){if(!$("body").hasClass("post-type-archive-project")){return false}$(".project-excerpt").waypoint({offset:"100%",continuous:true,handler:OK.show_project_excerpt})};OK.init_project=function(){var a=$(".project-images");a.imagesLoaded(function(){a.isotope({itemSelector:"div",layoutMode:"masonry"})});a.magnificPopup({delegate:"a",type:"image",image:{verticalFit:false},gallery:{enabled:true,preload:[1,2],navigateByImgClick:true,},zoom:{enabled:true,}});$(window).load(function(){$("#project-pagination").waypoint({offset:"100%",continuous:true,handler:function(){$(this).addClass("show")}})})};OK.init_video_post=function(){$(".video").fitVids()};$(document).ready(function(){OK.init_mobile_nav();OK.init_clock();OK.init_testimonials();OK.init_project_archive();OK.init_project();OK.init_video_post()});